# ğŸ›’ E-commerce Backend - Supabase

Backend completo para sistema de e-commerce construÃ­do com Node.js, Express e Supabase.

## ğŸš€ Tecnologias

- **Node.js** - Runtime JavaScript
- **Express.js** - Framework web
- **Supabase** - Banco de dados PostgreSQL + Auth
- **JWT** - AutenticaÃ§Ã£o
- **PostgreSQL** - Banco de dados

## ğŸ“¦ Funcionalidades

### ğŸ” AutenticaÃ§Ã£o
- âœ… Registro de usuÃ¡rios
- âœ… Login com email/senha
- âœ… JWT Tokens
- âœ… Middleware de autenticaÃ§Ã£o
- âœ… Perfis de usuÃ¡rio (customer/admin)

### ğŸ›ï¸ Produtos
- âœ… CRUD completo de produtos
- âœ… Listagem com paginaÃ§Ã£o
- âœ… Busca por nome
- âœ… Controle de estoque
- âœ… PolÃ­ticas RLS de seguranÃ§a

### ğŸ›’ Pedidos
- âœ… CriaÃ§Ã£o de pedidos
- âœ… GestÃ£o de itens do pedido
- âœ… CÃ¡lculo automÃ¡tico de totais
- âœ… Status de pedidos
- âœ… HistÃ³rico por usuÃ¡rio

### ğŸ‘¥ UsuÃ¡rios
- âœ… Perfis de usuÃ¡rio
- âœ… Sistema de roles (customer/admin)
- âœ… GestÃ£o de usuÃ¡rios (admin)

## ğŸ—ï¸ Estrutura do Projeto
ecommerce-backend/
â”œâ”€â”€ config/
â”‚ â””â”€â”€ supabase.js # ConfiguraÃ§Ã£o do Supabase
â”œâ”€â”€ controllers/
â”‚ â”œâ”€â”€ authController.js # AutenticaÃ§Ã£o
â”‚ â”œâ”€â”€ productController.js # Produtos
â”‚ â”œâ”€â”€ orderController.js # Pedidos
â”‚ â””â”€â”€ userController.js # UsuÃ¡rios
â”œâ”€â”€ middleware/
â”‚ â”œâ”€â”€ auth.js # Middleware de auth
â”‚ â””â”€â”€ validation.js # ValidaÃ§Ã£o de dados
â”œâ”€â”€ routes/
â”‚ â”œâ”€â”€ auth.js # Rotas de autenticaÃ§Ã£o
â”‚ â”œâ”€â”€ products.js # Rotas de produtos
â”‚ â”œâ”€â”€ orders.js # Rotas de pedidos
â”‚ â””â”€â”€ users.js # Rotas de usuÃ¡rios
â”œâ”€â”€ .env # VariÃ¡veis de ambiente
â”œâ”€â”€ .gitignore # Arquivos ignorados pelo Git
â”œâ”€â”€ package.json # DependÃªncias do projeto
â””â”€â”€ server.js # Servidor principal


## âš™ï¸ ConfiguraÃ§Ã£o

### PrÃ©-requisitos
- Node.js 16+
- Conta no Supabase
- PostgreSQL (opcional)

### 1. Clone o repositÃ³rio
```bash
git clone https://github.com/seu-usuario/ecommerce-backend.git
cd ecommerce-backend
npm install 
```

### 2. Execute o sql no superbase
VÃ¡ atÃ© o arquivo schema.sql e rode no seu supabase

### 3. Crie um arquivo .env na raiz do projeto:
# Supabase Configuration
SUPABASE_URL=https://seu-project-ref.supabase.co
SUPABASE_ANON_KEY=sua-anon-key
SUPABASE_SERVICE_ROLE_KEY=sua-service-role-key

# Server Configuration
PORT=3000
NODE_ENV=development
CLIENT_URL=http://localhost:3000

# Desenvolvimento
npm run dev

# ProduÃ§Ã£o
npm start


